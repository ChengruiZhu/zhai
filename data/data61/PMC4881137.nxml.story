In this study, we aimed to investigate the prevalence, awareness, treatment, and control of diabetes in Shanghai, China. A sample of 3600 residents aged from 18 to 80 years selected by a randomized stratified multiple-stage sampling method in Shanghai was investigated, with blood samples collected. Diabetes was defined as fasting plasma glucose (FPG) ≥ 7.0 mmol/L, or glycated haemoglobin (HbA1c) ≥ 6.5% (48 mmol/mol), or previous diagnosis by a physician. Adequate control of diabetes was taken as a level of HbA1c < 7.0% (53 mmol/mol) among people with treated diabetes. Multivariable regression analysis was used to explore associated factors for diabetes and prediabetes. In the 3136 participants suitable for analysis, the prevalences of diabetes, prediabetes, and previously diagnosed diabetes were 15.91%, 37.37%, and 4.46%, respectively. Among those with diabetes, only 28.06% were aware of their condition, 25.85% were currently undergoing medication treatment, and 12.42% achieved glycaemic control. Logistic regression showed that old age, preobesity, obesity, elevated triglyceride (TG), elevated C-reactive protein (CRP), and lower education level were associated with an increased risk of diabetes; old age, obesity, elevated TG, and elevated low-density lipoprotein (LDL) were associated with an increased risk of prediabetes, while male sex and rural residence were associated with a decreased risk of prediabetes. In summary, the state of diabetes in China is alarming; the rates of awareness, treatment, and control were relatively low. More efforts should be made to promote the prevention and control of diabetes in china.