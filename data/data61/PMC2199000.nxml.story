The endoplasmic reticulum (ER)-resident stress protein gp96 induces protective immunity and specific cytotoxic T lymphocyte (CTL) responses against antigens expressed in those cells it has been isolated from. This ability is based on peptides associated with gp96. Because gp96 is located inside the ER, our experiments address the question whether or not the repertoire of peptides associated with gp96 is influenced by the transporter associated with antigen processing (TAP). For this purpose, gp96 was isolated from cells with and without a TAP defect and used for immunization of mice. We found that for some antigens the association of peptides with gp96 required functional TAP molecules, whereas the association of peptides from other antigens was TAP independent. In the case of a TAP-dependent association of peptides with gp96, our results prove that peptide binding by gp96 in vivo occurs inside the ER and is not an artifact induced by cell lysis during the gp96 purification. The finding that some antigens can also associate with gp96 in the absence of functional TAP molecules indicates that the repertoire of peptides bound by gp96 truly reflects the entire repertoire of peptides present inside the ER and not only those peptides transported by TAP. These results, together with the earlier finding that the gp96 peptide repertoire is independent of the major histocompatibility complex molecules expressed by the cell gp96 is isolated from, give the theoretical foundation for the ability of gp96 to induce CTL responses against all kinds of intracellular antigens.