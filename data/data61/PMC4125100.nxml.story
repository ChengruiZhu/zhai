Evolutionary biologists seek to understand the factors affecting genetic variation. While it is intuitive that environmental heterogeneity should increase levels of variation, theoretical models showed that spatial and temporal heterogeneity differ in how likely they are to maintain polymorphisms affecting fitness. We evolved experimental populations of fruit flies in constant environments or in temporally or spatially varying environments, then examined levels of sequence variation across the genome. For sites associated with ecological selection, polymorphism patterns matched the theoretical expectations with variation greatest in populations evolving in spatially heterogeneous environments, less variation in populations evolving in temporally heterogeneous environments, and least variation in populations evolving in constant environments. However, a different pattern was observed at sites not associated with differential ecological selection (i.e., most of the genome). For these sites, levels of variation were highest at spatially heterogeneous populations but lowest for temporally heterogeneous populations. Populations evolving under temporal heterogeneity also showed the greatest differentiation from one another, suggesting that this selection regime caused more genetic drift than other selection regimes. These results illustrate that environmental heterogeneity affects levels of variation not only at sites subject to differential ecological selection but also genome-wide, though spatial and temporal heterogeneity affect diversity differently.