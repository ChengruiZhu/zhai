One of the enduring puzzles in biology and the social sciences is the origin and persistence of altruism, whereby a behavior benefiting another individual incurs a direct cost for the individual performing the altruistic action. This apparent paradox was resolved by Hamilton's theory, known as kin selection, which states that individuals can transmit copies of their own genes not only directly through their own reproduction but also indirectly by favoring the reproduction of kin, such as siblings or cousins. While many studies have provided qualitative support for kin selection theory, quantitative tests have not yet been possible due to the difficulty of quantifying the costs and benefits of helping acts. In this study, we conduct simulations with the help of a simulated system of foraging robots to manipulate the costs and benefits of altruism and determine the conditions under which altruism evolves. By conducting experimental evolution over hundreds of generations of selection in populations with different costs and benefits of altruistic behavior, we show that kin selection theory always accurately predicts the minimum relatedness necessary for altruism to evolve. This high accuracy is remarkable given the presence of pleiotropic and epistatic effects, as well as mutations with strong effects on behavior and fitness. In addition to providing a quantitative test of kin selection theory in a system with a complex mapping between genotype and phenotype, this study reveals that a fundamental principle of natural selection also applies to synthetic organisms when these have heritable properties.