Dopamine is a neurotransmitter that has been implicated in a wide variety of cognitive and motor functions; it is depleted in Parkinson's disease, disrupted in schizophrenia and plays a central role in working memory, reinforcement learning and other cognitive functions. In this paper, we present a straightforward and neurophysiologically grounded explanation for the diversity of functions and pathologies that implicate dopamine. This explanation rests on a principled approach to the nature of action and perception called active inference. This approach suggests that (Bayes) optimal perception and consequent behaviour depends on representing uncertainty about states of the world in terms of the precision (inverse amplitude) of their random fluctuations. Crucially, this uncertainly can be encoded by the same postsynaptic gain of neurons that is modulated by dopamine. This means that changing the levels of dopamine changes the level of uncertainty about different representations. To substantiate this idea, we simulate dopamine depletion in a hierarchical sensorimotor network to show that a single function of dopamine (encoding precision in terms of postsynaptic gain) is not only sufficient to account for commonly observed behaviours following dopamine depletion but also provides a unifying perspective on many existing theories about dopamine.