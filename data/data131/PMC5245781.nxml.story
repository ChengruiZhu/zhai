During HIV infection, a small proportion of infected cells containing integrated proviral DNA enter a long-lived resting phase, thus creating latent reservoirs of virus. These reservoirs are a major barrier to curing HIV and have been studied intensively in this light. Latent reservoirs might also affect viral dynamics during untreated infection, because they provide an archive of old viral variants that can re-enter circulation at a later time upon activation of latently infected cells. We developed a mathematical model to investigate how reservoir dynamics affect the evolution of the virus within single hosts, and find that the presence of a latent reservoir can severely delay within-host evolutionary dynamics. This delay increases with the relative size of the reservoir and the rate at which latently infected cells proliferate. By nesting this within-host model into an epidemiological model of host population dynamics, we show that the presence of latent reservoirs can also influence the population-level evolution of the virus. In contrast to predictions made by previous models we find that population-level adaptation to maximise transmission between hosts, rather than within-host fitness, can occur, but only if adaptation of the virus within hosts is sufficiently slowed down by the presence of latent reservoirs.