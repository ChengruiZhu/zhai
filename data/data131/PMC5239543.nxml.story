Type 2 diabetes mellitus is often complicated by osteoporosis, a process which may involve osteoblast autophagy. As melatonin suppresses autophagy under certain conditions, we its investigated the effects on bone autophagy during diabetes. We first assessed different body parameters in a diabetic rat model treated with various concentrations of melatonin. Dynamic biomechanicalmeasurements, bone organization hard slice dyeing and micro-CT were used to observe the rat bone microstructure, and immunohistochemistry was used to determine levels of autophagy biomarkers. We also performed in vitro experiments on human fetal osteoblastic (hFOB1.19) cells cultured with high glucose, different concentrations of melatonin, and ERK pathway inhibitors. And we used Western blotting and immunofluorescence to measure the extent of osteogenesis and autophagy. We found that melatonin improved the bone microstructure in our rat diabetes model and reduced the level of autophagy(50 mg/kg was better than 100 mg/kg). Melatonin also enhanced osteogenesis and suppressed autophagy in osteoblasts cultured at high glucose levels (10 Î¼M was better than 1 mM). This suggests melatonin may reduce the level of autophagy in osteoblasts and delay diabetes-induced osteoporosis by inhibiting the ERK signaling pathway.