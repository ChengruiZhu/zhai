Melanoma is a deadly skin cancer that invades into the dermis and metastasizes into the surrounding tissue. In clinical cases, surgical excision of the primary tumor has led to widespread and accelerated growth in metastases. We develop a mathematical model describing the basic process of melanoma invasion, metastatic spread, and the anti-tumor immune response. This model is formulated using partial differential equations that describe the spatial and temporal evolution of a number of different cellular populations, and it uses a realistic skin geometry. Using simulations, we examine the importance of the immune response when a primary tumor is spawning satellite metastases. We find that local metastases can be suppressed by the immune response directed against the primary tumor, but grow aggressively following surgical treatment. We also find that moderately metastatic tumors optimally activate the local immune response against disseminated disease, and in this case tumor excision may have profound effects on metastatic growth. We conclude that surgical perturbation of the immune response controlling local metastases is one mechanism by which cancer can recur. This could have implications as to the appropriate clinical management of melanomas and other solid tumors.