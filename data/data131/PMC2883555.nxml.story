Various channels and transporters shuttle molecules into and out of the cell, as well as between different cell compartments. Such channels have be selective, i.e. to pass only certain molecular species in a given direction, while efficiently blocking the passage of all others. Transport properties of some channels (e.g. ion channels), have been extensively studied. However, the mechanisms of channels that conduct larger molecules, such as the nuclear pore complex, which gates all transport between the cell nucleus and the cytoplasm, are less understood. In particular, it is still not clear how such channels can efficiently transport their specific molecules even in the presence of a vast excess of non-specific molecules that potentially could clog the channel. Understanding how such channels work is also important for technological applications, such as design of artificial nano-filters. In this paper, we propose a mechanism of selectivity of such channels in the presence of vast amounts of background molecular noise. The predictions of the theory account for the behavior of the nuclear pore complex and of artificial nanochannels that mimic its function. The theory provides the basis for future work aimed at understanding the selectivity of transport through various biological and artificial channels.