CRISPR-Cas systems provide adaptive immunity defense in bacteria and archaea against viruses. They function by accumulating in prokaryotic genome an array of spacers, or fragments of virus DNA from previous attacks. By matching spacers to corresponding parts of viral DNA called protospacers, a CRISPR-Cas system identifies and destroys intruder DNA. Here we theoretically estimate the number of spacers that maximizes prokaryotic host cell survival. This optimum emerges from a competition between two trends: More spacers allow a prokaryotic cell to hedge against mutations in viral protospacers. However, the older spacers loose efficiency as corresponding protospacers mutate. For a limited pool of CRISPR-Cas molecular machines, keeping too many spacers leaves fewer of such machines armed with more efficient young (most recently acquired) spacers. We have shown that a higher efficiency of CRISPR-Cas system allows a prokaryotic cell to utilize more spacers, increasing the optimal number of spacers. On contrary, a higher viral mutation rate makes older spacers useless and favors shorter arrays. A higher diversity in viral species reduces the efficiency of CRISPR-Cas but does not necessary lead to longer arrays. Our study provides a new viewpoint at a variety of the observed array spacer number and could be used as a base for evolutionary models of host-phage coexistence.