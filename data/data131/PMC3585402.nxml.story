For most animals whose lives are dependent on the sun, circadian clocks govern their daily behaviors and physiology. In different animals, novel functions under the circadian clock's control can evolve as adaptations to their specific environment. A zebrafish demonstrates a remarkably high level of interplay between external light and its internal circadian clock due to its transparent nature. In a genome-wide study, we identified a large number of circadian oscillating genes as well as genes whose expression is highly sensitive to the light or dark in zebrafish. Our computational analysis of gene regulatory networks revealed a number of transcription factors (TFs) that mediate novel circadian functions. We investigated one example in depth, a key TF that relays the control of the circadian clock to the enzymes synthesizing melanin in a dark-induced pathway thus causing the daily change of pigmentation in zebrafish. This dark-induced circadian melanogenesis can lead to an anticipatory change in zebrafish skin color allowing zebrafish to adapt to its environment. This mechanism allows zebrafish to better evade predators and effectively adjust its daily light-sensitivity in the pigment cells. Our study provides an excellent example of how the circadian clock is adapted in a specific organism to control its behavior, thus enabling evolutionary adaptation to the organism's ecological niche.