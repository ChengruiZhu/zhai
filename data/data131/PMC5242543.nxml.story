One of the major challenges in neuroscience is to understand how brain structure is related to function. In this work, we present a whole-brain method to quantify the structure-function relationship. Our data-driven approach allows the inferred functional connectivity matrix to be represented as a weighted sum of the powers of the structural matrix, containing both direct and indirect pathways. We further introduce a novel measure of network similarity based on persistent homology for assessing the goodness of fit for the mapping; such a measure enables the complete comparison of network topological changes across all possible thresholds, and thus effectively circumvents the problem of selecting the arbitrary threshold for the resulting functional networks. Our results show that our approach is able to uncover both direct and indirect structural paths for predicting functional connectivity in all three connectivity datasets, suggesting that the resting-state functional connectivity is at least in part mediated by indirect pathways, in addition to direct structural connections. The finding of a nonlinear relationship between brain structure and function is conceptually new, thus advances our understanding of how structural networks shape functional networks. This work demonstrates the potential utility of our approach in a rapidly growing field of network neuroscience.