-diaminopimelic acid with different specificities. Ssp2 degrades the acceptor part of cross-linked tetratetrapeptides. Ssp1 displays greater promiscuity and cleaves monomeric tripeptides, tetrapeptides and pentapeptides and dimeric tetratetra and tetrapenta muropeptides on both the acceptor and donor strands. Functional assays confirm the identity of a catalytic cysteine in these endopeptidases and crystal structures provide information on the structure–activity relationships of Ssp1 and, by comparison, of related effectors. Functional assays also reveal that neutralization of these effectors by their cognate immunity proteins, which are called resistance-associated proteins (Raps), contributes an essential role to cell fitness. The structures of two immunity proteins, Rap1a and Rap2a, responsible for the neutralization of Ssp1 and Ssp2-like endopeptidases, respectively, revealed two distinct folds, with that of Rap1a not having previously been observed. The structure of the Ssp1–Rap1a complex revealed a tightly bound heteromeric assembly with two effector molecules flanking a Rap1a dimer. A highly effective steric block of the Ssp1 active site forms the basis of effector neutralization. Comparisons with Ssp2–Rap2a orthologues suggest that the specificity of these immunity proteins for neutralizing effectors is fold-dependent and that in cases where the fold is conserved sequence differences contribute to the specificity of effector–immunity protein interactions.