The evolution and spread of antimicrobial resistance is a major global problem, and a cause of substantial human mortality. As the discovery of new antibiotics does not follow the rate at which new resistances develop, a more judicial use of available drugs is needed. Here we develop a mathematical model of within-host infection dynamics that combines the effects of pathogen clearance by the host immune system and by the antibiotics. Computer simulations and mathematical analysis are used to evaluate treatment protocols in order to identify those that can restore patient health and limit the overall pathogen burden and selection of resistance. We focus our study on infections with pre-existing resistance, and explore two main treatment strategies: the classical treatment, characterized by fixed drug dose and treatment duration, and the adaptive treatment that closely follows infection outcomes and patient symptoms. Our results highlight treatment strategies that promote synergy between host immunity and the antimicrobial drug. This can be achieved by moderate treatments that combine appropriate timing, reduced drug dosage, and short treatment durations. Our model is developed for bacterial infections but our framework and findings may apply to other biological scenarios featuring drug resistance.