There were 6898 and 12,758 patients in ACEi and ARB groups, respectively. The mean follow-up period was about 3.5 years in ESRD and 2.5 years in MACE. The incidence of ESRD was 0.44 % and 0.63 % per person-years in the ACEi and ARB group, respectively. The risk of ESRD was lower in the ACEi group than the ARB group [hazard ratio (HR) 0.69; 95 % confidence interval (CI) 0.54–0.88, P = 0.0025]. Among those without chronic kidney disease (CKD), the incidence of ESRD was 0.30 % and 0.37 % per person-years in the ACEi and ARB group, respectively. ACEi was similar to ARB in preventing ESRD for those without CKD (P = 0.11). Among those with CKD, the incidence of ESRD was 1.39 % and 2.34 % per person-years in the ACEi and ARB group, respectively. The ACEi group had a lower risk of ESRD than the ARB group (HR 0.61; 95 % CI 0.42–0.88, P = 0.008). The incidence of MACE was 9.33 % and 9.62 % per person-years in the ACEi and ARB group, respectively. There was no significant difference in the composite MACE outcome between the two groups (P = 0.42), but the ACEi group was associated with a higher risk of stroke than the ARB group (HR 1.12; 95 % CI 1.02–1.24, P = 0.02).